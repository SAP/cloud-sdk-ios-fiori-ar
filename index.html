<!DOCTYPE html>
<html lang="en">
  <head>
    <title>FioriARKit  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
	<meta name="viewport" content="width=device-width, viewport-fit=cover, initial-scale=1.0" />
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="FioriARKit  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p>
          <a href="index.html">FioriARKit Docs</a>
          <span class="no-mobile"></span>
        </p>
    
    
      </div>
    </header>
    <div id="breadcrumbs-container">
      <div class="content-wrapper">
        <p id="breadcrumbs">
          <span class="no-mobile">
            <a href="index.html">FioriARKit Reference</a>
            <img id="carat" src="img/carat.png" />
          </span>
          FioriARKit  Reference
        </p>
      </div>
    </div>
    <div class="wrapper">
      <div class="article-wrapper">
        <article class="main-content">
          <section>
            <section class="section">
              
              <p align="center">
  </br>
  <span><b>SAP Fiori for iOS ARKit</b></span>
</p>

<hr>

<div align="center">
    <a href="https://github.com/SAP/cloud-sdk-ios-fioriarkit#installation">Installation
    </a>
    |
    <a href="https://github.com/SAP/cloud-sdk-ios-fioriarkit#examples"> Examples
    </a>
    |
    <a href="https://sap.github.io/cloud-sdk-ios-fioriarkit"> API Documentation
    </a>
    |
    <a href="https://github.com/SAP/cloud-sdk-ios-fioriarkit/blob/main/CHANGELOG.md"> Changelog
    </a>
</div>

<hr>

<div align="center">
    <a href="https://github.com/SAP/cloud-sdk-ios-arkit/actions?query=workflow%3A%22CI%22">
        <img src="https://github.com/SAP/cloud-sdk-ios-fioriarkit/workflows/CI/badge.svg"
             alt="Build Status">
    </a>
    <a href="https://conventionalcommits.org">
        <img src="https://img.shields.io/badge/Conventional%20Commits-1.0.0-yellow.svg"
             alt="Conventional Commits">
    </a>
    <a href="http://commitizen.github.io/cz-cli/">
        <img src="https://img.shields.io/badge/commitizen-friendly-brightgreen.svg"
             alt="Commitizen friendly">
    </a>
    <a href="https://api.reuse.software/info/github.com/SAP/cloud-sdk-ios-fioriarkit">
        <img src="https://api.reuse.software/badge/github.com/SAP/cloud-sdk-ios-fioriarkit"
             alt="REUSE status">
    </a>
</div>

<hr>
<h3 id='summary' class='heading'>Summary</h3>

<p>This project is a SwiftUI implementation of the SAP Fiori for iOS ARKit, and is meant to leverage the Augmented Reality capabilities from the frameworks provided by Apple for various Enterprise use cases.</p>

<p>There is currently support for <code>AR Cards</code>. This refers to Cards that match with a corresponding Marker that represent annotations relative to an image or object in the real world.</p>
<h2 id='ar-cards' class='heading'>AR Cards</h2>

<p><a href="https://user-images.githubusercontent.com/77754056/121744202-2ea88c80-cac8-11eb-811d-9c9edb6423fa.mp4">https://user-images.githubusercontent.com/77754056/121744202-2ea88c80-cac8-11eb-811d-9c9edb6423fa.mp4</a></p>

<p>The AR Cards use case is essentially annotating the real world represented by a marker that corresponds to data displayed in a card with an optional action. SwiftUI is used to render the content at these positions since 3D modeling is expensive, tedious, and time consuming. There is a one to one mapping of markers to cards. The current strategy supported for scene creation is by using Reality Composer. Within Reality Composer a scene of annotations can be composed relative to an image or object. Data that&rsquo;s associated with these real world positions can be loaded and  matched into it&rsquo;s respective Card. Supports <code>Image</code> and <code>Object</code> anchors.</p>

<p>The Cards and Markers can also leverage SwiftUI Viewbuilders allowing for custom designs.</p>
<h3 id='usage' class='heading'>Usage</h3>
<h4 id='reality-composer-strategy' class='heading'>Reality Composer Strategy</h4>
<h5 id='composing-the-scene' class='heading'>Composing the scene</h5>

<ol>
<li>Open the Reality Composer app and create a scene with an image or object anchor</li>
<li>Choose an image or scan an object and give the scene a name e.g. ExampleScene</li>
<li>Place spheres in the desired position</li>
<li>Preview in AR to fine tune</li>
<li>Name the spheres with a type that conforms to LosslessStringConvertable</li>
<li>The name of the sphere will correspond to the <code><a href="Protocols.html#/s:10FioriARKit13CardItemModelP">CardItemModel</a></code> ID</li>
<li>Add the rcproject file in your xcode project</li>
</ol>

<blockquote>
<p><strong>Notes</strong>:</p>

<ul>
<li>Reality Composer is required to scan an object when choosing an Object Anchor.</li>
<li>Scanning an object requires using an iOS device in the Reality Composer app</li>
<li>The spheres are for scene creation and will be invisible in the ARCards scene</li>
</ul>
</blockquote>

<p align="center">
<img height="400" alt="rcDemo1" src="https://user-images.githubusercontent.com/77754056/119742939-784d7200-be4e-11eb-928d-6d83b07e49ff.png">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<img height="400" alt="rcDemo2" src="https://user-images.githubusercontent.com/77754056/119743047-a6cb4d00-be4e-11eb-8543-4ed018fa25f3.jpeg">
</p>
<h5 id='data-consumption' class='heading'>Data Consumption</h5>

<p>CardItem Models Conform to <code>CardItemComponent</code>. The <em>name</em> of the Entity (Sphere) from Reality Composer corresponds to the <em>id</em> property of the Model. The list of initial CardItems are passed into the <code><a href="Structs/RealityComposerStrategy.html">RealityComposerStrategy</a></code> with the Reality Composer rcproject File Name and the name of the scene. For an image Anchor, the image that will be detected must be passed into the strategy to create an <code>ARReferenceImage</code>.</p>
<h5 id='creating-the-contentview-and-loading-the-data' class='heading'>Creating the ContentView and loading the data</h5>
<pre class="highlight swift"><code><span class="kd">struct</span> <span class="kt">FioriARKitCardsExample</span><span class="p">:</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="kd">@StateObject</span> <span class="k">var</span> <span class="nv">arModel</span> <span class="o">=</span> <span class="kt">ARAnnotationViewModel</span><span class="o">&lt;</span><span class="kt">ExampleCardModel</span><span class="o">&gt;</span><span class="p">()</span>

    <span class="k">var</span> <span class="nv">body</span><span class="p">:</span> <span class="n">some</span> <span class="kt">View</span> <span class="p">{</span>
    <span class="cm">/**
     Initializes an AR Experience with a Scanning View flow with Markers and Cards upon anchor discovery

     - Parameters:
        - arModel: The View Model which handles the logic for the AR Experience
        - image: The image which will be displayed in the Scanning View
        - cardAction: Card Action
    */</span>
        <span class="kt">SingleImageARCardView</span><span class="p">(</span><span class="nv">arModel</span><span class="p">:</span> <span class="n">arModel</span><span class="p">,</span> <span class="nv">image</span><span class="p">:</span> <span class="kt">Image</span><span class="p">(</span><span class="s">"qrImage"</span><span class="p">),</span> <span class="nv">cardAction</span><span class="p">:</span> <span class="p">{</span> <span class="n">id</span> <span class="k">in</span>
            <span class="c1">// action to pass to corresponding card from the CardItemModel ID</span>
        <span class="p">})</span>
        <span class="o">.</span><span class="nf">onAppear</span><span class="p">(</span><span class="nv">perform</span><span class="p">:</span> <span class="n">loadInitialData</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="kd">func</span> <span class="nf">loadInitialData</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">let</span> <span class="nv">cardItems</span> <span class="o">=</span> <span class="p">[</span><span class="kt">ExampleCardModel</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="s">"WasherFluid"</span><span class="p">,</span> <span class="nv">title_</span><span class="p">:</span> <span class="s">"Recommended Washer Fluid"</span><span class="p">),</span> <span class="kt">ExampleCardModel</span><span class="p">(</span><span class="nv">id</span><span class="p">:</span> <span class="s">"OilStick"</span><span class="p">,</span> <span class="nv">title_</span><span class="p">:</span> <span class="s">"Check Oil Stick"</span><span class="p">)]</span>
        <span class="k">guard</span> <span class="k">let</span> <span class="nv">anchorImage</span> <span class="o">=</span> <span class="kt">UIImage</span><span class="p">(</span><span class="nv">named</span><span class="p">:</span> <span class="s">"qrImage"</span><span class="p">)</span> <span class="k">else</span> <span class="p">{</span> <span class="k">return</span> <span class="p">}</span>
        <span class="k">let</span> <span class="nv">loadingStrategy</span> <span class="o">=</span> <span class="kt">RealityComposerStrategy</span><span class="p">(</span><span class="nv">cardContents</span><span class="p">:</span> <span class="n">cardItems</span><span class="p">,</span> <span class="nv">anchorImage</span><span class="p">:</span> <span class="n">anchorImage</span><span class="p">,</span> <span class="nv">physicalWidth</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span> <span class="nv">rcFile</span><span class="p">:</span> <span class="s">"realityComposerFileName"</span><span class="p">,</span> <span class="nv">rcScene</span><span class="p">:</span> <span class="s">"sceneName"</span><span class="p">)</span>
        <span class="n">arModel</span><span class="o">.</span><span class="nf">load</span><span class="p">(</span><span class="nv">loadingStrategy</span><span class="p">:</span> <span class="n">loadingStrategy</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h2 id='requirements' class='heading'>Requirements</h2>

<ul>
<li>iOS 14 or higher</li>
<li>Xcode 12 or higher</li>
<li>Reality Composer 1.1 or higher</li>
<li>Swift Package Manager</li>
</ul>
<h2 id='installation' class='heading'>Installation</h2>

<p>The package is intended for consumption via Swift Package Manager.  </p>

<ul>
<li>To add to your application target, navigate to the <code>Project Settings &gt; Swift Packages</code> tab, then add the repository URL.</li>
<li>To add to your framework target, add the repository URL to your <strong>Package.swift</strong> manifest.</li>
</ul>

<p>In both cases, <strong>xcodebuild</strong> tooling will manage cloning and updating the repository to your app or framework project.</p>
<h2 id='configuration' class='heading'>Configuration</h2>

<p><strong>FioriARKit</strong> as umbrella product currently will contain everything the package as to offer. As the package evolves the package could be split into multiple products for different use cases.</p>
<h2 id='limitations' class='heading'>Limitations</h2>

<p>The module is currently in development, and should not yet be used productively. Breaking changes may occur in 0.x.x release(s)</p>

<p>Key gaps which are present at time of open-source project launch:</p>

<ul>
<li>An authoring flow for pinning/editing an annotation in app</li>
<li>An Annotation Loading Strategy which loads an array of positions for annotations relative to the detected image/object</li>
<li>While Reality Composer is useful for scene creation, editing the scene programmatically is possible, but those changes cannot be saved to the file</li>
</ul>
<h2 id='known-issues' class='heading'>Known Issues</h2>

<p>See <strong>Limitations</strong>.</p>
<h2 id='how-to-obtain-support' class='heading'>How to obtain support</h2>

<p>Support for the modules is provided thorough this open-source repository. Please file Github Issues for any issues experienced, or questions.  </p>
<h2 id='contributing' class='heading'>Contributing</h2>

<p>If you want to contribute, please check the <a href="./CONTRIBUTING.md">Contribution Guidelines</a></p>
<h2 id='to-do-upcoming-changes' class='heading'>To-Do (upcoming changes)</h2>

<p>See <strong>Limitations</strong>.</p>
<h2 id='examples' class='heading'>Examples</h2>

<p>Functionality can be further explored with a demo app which is already part of this package (<code>Apps/Examples/Examples.xcodeproj</code>).</p>

            </section>
          </section>
        </article>
      </div>
      <div class="nav-wrapper">
        <nav class="nav-bottom">
          <ul class="nav-groups">
            <li class="nav-group-name">
              <a href="Classes.html">Classes</a>
              <ul class="nav-group-tasks">
                <li class="nav-group-task">
                  <a href="Classes/ARAnnotationViewModel.html">ARAnnotationViewModel</a>
                </li>
                <li class="nav-group-task">
                  <a href="Classes/ARManager.html">ARManager</a>
                </li>
              </ul>
            </li>
            <li class="nav-group-name">
              <a href="Enums.html">Enumerations</a>
              <ul class="nav-group-tasks">
                <li class="nav-group-task">
                  <a href="Enums.html#/s:10FioriARKit0A0O">Fiori</a>
                </li>
              </ul>
            </li>
            <li class="nav-group-name">
              <a href="Extensions.html">Extensions</a>
              <ul class="nav-group-tasks">
                <li class="nav-group-task">
                  <a href="Extensions/EnvironmentValues.html">EnvironmentValues</a>
                </li>
                <li class="nav-group-task">
                  <a href="Extensions/View.html">View</a>
                </li>
              </ul>
            </li>
            <li class="nav-group-name">
              <a href="Protocols.html">Protocols</a>
              <ul class="nav-group-tasks">
                <li class="nav-group-task">
                  <a href="Protocols/ARManagement.html">ARManagement</a>
                </li>
                <li class="nav-group-task">
                  <a href="Protocols/ActionTextComponent.html">ActionTextComponent</a>
                </li>
                <li class="nav-group-task">
                  <a href="Protocols/AnnotationLoadingStrategy.html">AnnotationLoadingStrategy</a>
                </li>
                <li class="nav-group-task">
                  <a href="Protocols.html#/s:10FioriARKit13CardItemModelP">CardItemModel</a>
                </li>
                <li class="nav-group-task">
                  <a href="Protocols/DescriptionTextComponent.html">DescriptionTextComponent</a>
                </li>
                <li class="nav-group-task">
                  <a href="Protocols/DetailImageComponent.html">DetailImageComponent</a>
                </li>
                <li class="nav-group-task">
                  <a href="Protocols/IconComponent.html">IconComponent</a>
                </li>
                <li class="nav-group-task">
                  <a href="Protocols/TitleComponent.html">TitleComponent</a>
                </li>
              </ul>
            </li>
            <li class="nav-group-name">
              <a href="Structs.html">Structures</a>
              <ul class="nav-group-tasks">
                <li class="nav-group-task">
                  <a href="Structs/ARScanView.html">ARScanView</a>
                </li>
                <li class="nav-group-task">
                  <a href="Structs/AnyViewModifier.html">AnyViewModifier</a>
                </li>
                <li class="nav-group-task">
                  <a href="Structs/CardView.html">CardView</a>
                </li>
                <li class="nav-group-task">
                  <a href="Structs/CarouselOptions.html">CarouselOptions</a>
                </li>
                <li class="nav-group-task">
                  <a href="Structs/DefaultIcon.html">DefaultIcon</a>
                </li>
                <li class="nav-group-task">
                  <a href="Structs/ImagePreview.html">ImagePreview</a>
                </li>
                <li class="nav-group-task">
                  <a href="Structs/MarkerControl.html">MarkerControl</a>
                </li>
                <li class="nav-group-task">
                  <a href="Structs/MarkerControl/State.html">– State</a>
                </li>
                <li class="nav-group-task">
                  <a href="Structs/MarkerView.html">MarkerView</a>
                </li>
                <li class="nav-group-task">
                  <a href="Structs/RealityComposerStrategy.html">RealityComposerStrategy</a>
                </li>
                <li class="nav-group-task">
                  <a href="Structs/ScreenAnnotation.html">ScreenAnnotation</a>
                </li>
                <li class="nav-group-task">
                  <a href="Structs/SingleImageARCardView.html">SingleImageARCardView</a>
                </li>
              </ul>
            </li>
          </ul>
        </nav>
      </div>
      <div class="footer-wrapper">
        <section id="footer">
          <p>© 2020 <a class="link" href="https://github.com/SAP/cloud-sdk-ios-fioriarkit" target="_blank" rel="external">https://github.com/SAP/cloud-sdk-ios-fioriarkit</a> under Apache-2.0.</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.7</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </div>
    </div>
  </body>
</div>
</html>
