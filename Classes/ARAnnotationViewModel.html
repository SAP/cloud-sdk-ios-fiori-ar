<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ARAnnotationViewModel Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
	<meta name="viewport" content="width=device-width, viewport-fit=cover, initial-scale=1.0" />
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Class/ARAnnotationViewModel" class="dashAnchor"></a>
    <a title="ARAnnotationViewModel Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p>
          <a href="../index.html">FioriARKit Docs</a>
          <span class="no-mobile"></span>
        </p>
    
    
      </div>
    </header>
    <div id="breadcrumbs-container">
      <div class="content-wrapper">
        <p id="breadcrumbs">
          <span class="no-mobile">
            <a href="../index.html">FioriARKit Reference</a>
            <img id="carat" src="../img/carat.png" />
          </span>
          ARAnnotationViewModel Class Reference
        </p>
      </div>
    </div>
    <div class="wrapper">
      <div class="article-wrapper">
        <article class="main-content">
          <section>
            <section class="section">
              <h1>ARAnnotationViewModel</h1>
                <div class="declaration">
                  <div class="language">
                    
                    <pre class="highlight swift"><code><span class="kd">open</span> <span class="kd">class</span> <span class="kt">ARAnnotationViewModel</span><span class="o">&lt;</span><span class="kt">CardItem</span><span class="o">&gt;</span> <span class="p">:</span> <span class="kt">NSObject</span><span class="p">,</span> <span class="kt">ObservableObject</span><span class="p">,</span> <span class="kt">ARSessionDelegate</span> <span class="k">where</span> <span class="kt">CardItem</span> <span class="p">:</span> <span class="kt"><a href="../Protocols.html#/s:10FioriARKit13CardItemModelP">CardItemModel</a></span></code></pre>

                  </div>
                </div>
              <p>ViewModel for managing an ARCards experience. Provides and sets the annotation data/anchor locations to the view and the flow for the discovery animations.</p>

            </section>
            <section class="section task-group-section">
              <div class="task-group">
                <ul>
                  <li class="item">
                    <div>
                      <code>
                      <a name="/s:10FioriARKit21ARAnnotationViewModelC11annotationsSayAA16ScreenAnnotationVyxGGvp"></a>
                      <a name="//apple_ref/swift/Property/annotations" class="dashAnchor"></a>
                      <a class="token" href="#/s:10FioriARKit21ARAnnotationViewModelC11annotationsSayAA16ScreenAnnotationVyxGGvp">annotations</a>
                      </code>
                    </div>
                    <div class="height-container">
                      <div class="pointer-container"></div>
                      <section class="section">
                        <div class="pointer"></div>
                        <div class="abstract">
                          <p>An array of <strong>ScreenAnnotations</strong> which are displayed in the scene  contain the marker position and their card contents
The annotations internal entities within this list should be in the ARView scene. Set by the annotation loading strategy</p>

                        </div>
                        <div class="declaration">
                          <h4>Declaration</h4>
                          <div class="language">
                            <p class="aside-title">Swift</p>
                            <pre class="highlight swift"><code><span class="kd">@Published</span>
<span class="kd">public</span> <span class="kd">internal(set)</span> <span class="k">var</span> <span class="nv">annotations</span><span class="p">:</span> <span class="p">[</span><span class="kt"><a href="../Structs/ScreenAnnotation.html">ScreenAnnotation</a></span><span class="o">&lt;</span><span class="kt">CardItem</span><span class="o">&gt;</span><span class="p">]</span> <span class="p">{</span> <span class="k">get</span> <span class="k">set</span> <span class="p">}</span></code></pre>

                          </div>
                        </div>
                      </section>
                    </div>
                  </li>
                  <li class="item">
                    <div>
                      <code>
                      <a name="/s:10FioriARKit21ARAnnotationViewModelC17currentAnnotationAA06ScreenG0VyxGSgvp"></a>
                      <a name="//apple_ref/swift/Property/currentAnnotation" class="dashAnchor"></a>
                      <a class="token" href="#/s:10FioriARKit21ARAnnotationViewModelC17currentAnnotationAA06ScreenG0VyxGSgvp">currentAnnotation</a>
                      </code>
                    </div>
                    <div class="height-container">
                      <div class="pointer-container"></div>
                      <section class="section">
                        <div class="pointer"></div>
                        <div class="abstract">
                          <p>The ScreenAnnotation that is focused on in the scene. The CardView and MarkerView will be in their selected states</p>

                        </div>
                        <div class="declaration">
                          <h4>Declaration</h4>
                          <div class="language">
                            <p class="aside-title">Swift</p>
                            <pre class="highlight swift"><code><span class="kd">@Published</span>
<span class="kd">public</span> <span class="kd">internal(set)</span> <span class="k">var</span> <span class="nv">currentAnnotation</span><span class="p">:</span> <span class="kt"><a href="../Structs/ScreenAnnotation.html">ScreenAnnotation</a></span><span class="o">&lt;</span><span class="kt">CardItem</span><span class="o">&gt;</span><span class="p">?</span> <span class="p">{</span> <span class="k">get</span> <span class="k">set</span> <span class="p">}</span></code></pre>

                          </div>
                        </div>
                      </section>
                    </div>
                  </li>
                  <li class="item">
                    <div>
                      <code>
                      <a name="/s:10FioriARKit21ARAnnotationViewModelCACyxGycfc"></a>
                      <a name="//apple_ref/swift/Method/init()" class="dashAnchor"></a>
                      <a class="token" href="#/s:10FioriARKit21ARAnnotationViewModelCACyxGycfc">init()</a>
                      </code>
                    </div>
                    <div class="height-container">
                      <div class="pointer-container"></div>
                      <section class="section">
                        <div class="pointer"></div>
                        <div class="abstract">
                          <p>Undocumented</p>

                        </div>
                        <div class="declaration">
                          <h4>Declaration</h4>
                          <div class="language">
                            <p class="aside-title">Swift</p>
                            <pre class="highlight swift"><code><span class="k">override</span> <span class="kd">public</span> <span class="nf">init</span><span class="p">()</span></code></pre>

                          </div>
                        </div>
                      </section>
                    </div>
                  </li>
                </ul>
              </div>
              <div class="task-group">
                <div class="task-name-container">
                  <a name="/ViewModel%20Lifecycle"></a>
                  <a name="//apple_ref/swift/Section/ViewModel Lifecycle" class="dashAnchor"></a>
                  <div class="section-name-container">
                    <a class="section-name-link" href="#/ViewModel%20Lifecycle"></a>
                    <h3 class="section-name"><p>ViewModel Lifecycle</p>
</h3>
                  </div>
                </div>
                <ul>
                  <li class="item">
                    <div>
                      <code>
                      <a name="/s:10FioriARKit21ARAnnotationViewModelC11updateScene2ony10RealityKit0G6EventsO6UpdateV_tF"></a>
                      <a name="//apple_ref/swift/Method/updateScene(on:)" class="dashAnchor"></a>
                      <a class="token" href="#/s:10FioriARKit21ARAnnotationViewModelC11updateScene2ony10RealityKit0G6EventsO6UpdateV_tF">updateScene(on:<wbr>)</a>
                      </code>
                    </div>
                    <div class="height-container">
                      <div class="pointer-container"></div>
                      <section class="section">
                        <div class="pointer"></div>
                        <div class="abstract">
                          <p>Updates scene on frame change
Used to project the location of the Entities from the world space onto the screen space
Potential to add a closure here for developer to add logic on frame change</p>

                        </div>
                        <div class="declaration">
                          <h4>Declaration</h4>
                          <div class="language">
                            <p class="aside-title">Swift</p>
                            <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">updateScene</span><span class="p">(</span><span class="n">on</span> <span class="nv">event</span><span class="p">:</span> <span class="kt">SceneEvents</span><span class="o">.</span><span class="kt">Update</span><span class="p">)</span></code></pre>

                          </div>
                        </div>
                      </section>
                    </div>
                  </li>
                </ul>
              </div>
              <div class="task-group">
                <div class="task-name-container">
                  <a name="/Annotation%20Management"></a>
                  <a name="//apple_ref/swift/Section/Annotation Management" class="dashAnchor"></a>
                  <div class="section-name-container">
                    <a class="section-name-link" href="#/Annotation%20Management"></a>
                    <h3 class="section-name"><p>Annotation Management</p>
</h3>
                  </div>
                </div>
                <ul>
                  <li class="item">
                    <div>
                      <code>
                      <a name="/s:10FioriARKit21ARAnnotationViewModelC4load15loadingStrategyyqd___t8CardItemQyd__RszAA017AnnotationLoadingH0Rd__lF"></a>
                      <a name="//apple_ref/swift/Method/load(loadingStrategy:)" class="dashAnchor"></a>
                      <a class="token" href="#/s:10FioriARKit21ARAnnotationViewModelC4load15loadingStrategyyqd___t8CardItemQyd__RszAA017AnnotationLoadingH0Rd__lF">load(loadingStrategy:<wbr>)</a>
                      </code>
                    </div>
                    <div class="height-container">
                      <div class="pointer-container"></div>
                      <section class="section">
                        <div class="pointer"></div>
                        <div class="abstract">
                          <p>Loads a strategy into the arModel and sets <strong>annotations</strong> member from the returned [ScreenAnnotation]</p>

                        </div>
                        <div class="declaration">
                          <h4>Declaration</h4>
                          <div class="language">
                            <p class="aside-title">Swift</p>
                            <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="n">load</span><span class="o">&lt;</span><span class="kt">Strategy</span><span class="o">&gt;</span><span class="p">(</span><span class="nv">loadingStrategy</span><span class="p">:</span> <span class="kt">Strategy</span><span class="p">)</span> <span class="k">where</span> <span class="kt">CardItem</span> <span class="o">==</span> <span class="kt">Strategy</span><span class="o">.</span><span class="kt">CardItem</span><span class="p">,</span> <span class="kt">Strategy</span> <span class="p">:</span> <span class="kt"><a href="../Protocols/AnnotationLoadingStrategy.html">AnnotationLoadingStrategy</a></span></code></pre>

                          </div>
                        </div>
                      </section>
                    </div>
                  </li>
                  <li class="item">
                    <div>
                      <code>
                      <a name="/s:10FioriARKit21ARAnnotationViewModelC19setMarkerVisibility3for2toy2IDQz_SbtF"></a>
                      <a name="//apple_ref/swift/Method/setMarkerVisibility(for:to:)" class="dashAnchor"></a>
                      <a class="token" href="#/s:10FioriARKit21ARAnnotationViewModelC19setMarkerVisibility3for2toy2IDQz_SbtF">setMarkerVisibility(for:<wbr>to:<wbr>)</a>
                      </code>
                    </div>
                    <div class="height-container">
                      <div class="pointer-container"></div>
                      <section class="section">
                        <div class="pointer"></div>
                        <div class="abstract">
                          <p>Sets the visibility of the Marker View for  a CardItem identified by its ID <em>Note: The <code>MarkerAnchor</code> still exists in the scene</em></p>

                        </div>
                        <div class="declaration">
                          <h4>Declaration</h4>
                          <div class="language">
                            <p class="aside-title">Swift</p>
                            <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">setMarkerVisibility</span><span class="p">(</span><span class="k">for</span> <span class="nv">id</span><span class="p">:</span> <span class="kt">CardItem</span><span class="o">.</span><span class="kt">ID</span><span class="p">,</span> <span class="n">to</span> <span class="nv">isVisible</span><span class="p">:</span> <span class="kt">Bool</span><span class="p">)</span></code></pre>

                          </div>
                        </div>
                      </section>
                    </div>
                  </li>
                </ul>
              </div>
              <div class="task-group">
                <div class="task-name-container">
                  <a name="/ARSession%20Delegate"></a>
                  <a name="//apple_ref/swift/Section/ARSession Delegate" class="dashAnchor"></a>
                  <div class="section-name-container">
                    <a class="section-name-link" href="#/ARSession%20Delegate"></a>
                    <h3 class="section-name"><p>ARSession Delegate</p>
</h3>
                  </div>
                </div>
                <ul>
                  <li class="item">
                    <div>
                      <code>
                      <a name="/s:10FioriARKit21ARAnnotationViewModelC7session_6didAddySo9ARSessionC_SaySo8ARAnchorCGtF"></a>
                      <a name="//apple_ref/swift/Method/session(_:didAdd:)" class="dashAnchor"></a>
                      <a class="token" href="#/s:10FioriARKit21ARAnnotationViewModelC7session_6didAddySo9ARSessionC_SaySo8ARAnchorCGtF">session(_:<wbr>didAdd:<wbr>)</a>
                      </code>
                    </div>
                    <div class="height-container">
                      <div class="pointer-container"></div>
                      <section class="section">
                        <div class="pointer"></div>
                        <div class="abstract">
                          <p>Tells the delegate that one or more anchors have been added to the session.</p>

                        </div>
                        <div class="declaration">
                          <h4>Declaration</h4>
                          <div class="language">
                            <p class="aside-title">Swift</p>
                            <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">session</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">ARSession</span><span class="p">,</span> <span class="n">didAdd</span> <span class="nv">anchors</span><span class="p">:</span> <span class="p">[</span><span class="kt">ARAnchor</span><span class="p">])</span></code></pre>

                          </div>
                        </div>
                      </section>
                    </div>
                  </li>
                  <li class="item">
                    <div>
                      <code>
                      <a name="/s:10FioriARKit21ARAnnotationViewModelC7session_9didUpdateySo9ARSessionC_So7ARFrameCtF"></a>
                      <a name="//apple_ref/swift/Method/session(_:didUpdate:)" class="dashAnchor"></a>
                      <a class="token" href="#/s:10FioriARKit21ARAnnotationViewModelC7session_9didUpdateySo9ARSessionC_So7ARFrameCtF">session(_:<wbr>didUpdate:<wbr>)</a>
                      </code>
                    </div>
                    <div class="height-container">
                      <div class="pointer-container"></div>
                      <section class="section">
                        <div class="pointer"></div>
                        <div class="abstract">
                          <p>Provides a newly captured camera image and accompanying AR information to the delegate.</p>

                        </div>
                        <div class="declaration">
                          <h4>Declaration</h4>
                          <div class="language">
                            <p class="aside-title">Swift</p>
                            <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">session</span><span class="p">(</span><span class="n">_</span> <span class="nv">session</span><span class="p">:</span> <span class="kt">ARSession</span><span class="p">,</span> <span class="n">didUpdate</span> <span class="nv">frame</span><span class="p">:</span> <span class="kt">ARFrame</span><span class="p">)</span></code></pre>

                          </div>
                        </div>
                      </section>
                    </div>
                  </li>
                </ul>
              </div>
            </section>
          </section>
        </article>
      </div>
      <div class="nav-wrapper">
        <nav class="nav-bottom">
          <ul class="nav-groups">
            <li class="nav-group-name">
              <a href="../Classes.html">Classes</a>
              <ul class="nav-group-tasks">
                <li class="nav-group-task">
                  <a href="../Classes/ARAnnotationViewModel.html">ARAnnotationViewModel</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Classes/ARManager.html">ARManager</a>
                </li>
              </ul>
            </li>
            <li class="nav-group-name">
              <a href="../Extensions.html">Extensions</a>
              <ul class="nav-group-tasks">
                <li class="nav-group-task">
                  <a href="../Extensions/EnvironmentValues.html">EnvironmentValues</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Extensions/View.html">View</a>
                </li>
              </ul>
            </li>
            <li class="nav-group-name">
              <a href="../Protocols.html">Protocols</a>
              <ul class="nav-group-tasks">
                <li class="nav-group-task">
                  <a href="../Protocols/ARManagement.html">ARManagement</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Protocols/ActionTextComponent.html">ActionTextComponent</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Protocols/AnnotationLoadingStrategy.html">AnnotationLoadingStrategy</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Protocols.html#/s:10FioriARKit13CardItemModelP">CardItemModel</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Protocols/DescriptionTextComponent.html">DescriptionTextComponent</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Protocols/DetailImageComponent.html">DetailImageComponent</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Protocols/IconComponent.html">IconComponent</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Protocols/TitleComponent.html">TitleComponent</a>
                </li>
              </ul>
            </li>
            <li class="nav-group-name">
              <a href="../Structs.html">Structures</a>
              <ul class="nav-group-tasks">
                <li class="nav-group-task">
                  <a href="../Structs/ARScanView.html">ARScanView</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/CardView.html">CardView</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/CarouselOptions.html">CarouselOptions</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/DecodableCardItem.html">DecodableCardItem</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/DefaultIcon.html">DefaultIcon</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/ImagePreview.html">ImagePreview</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/MarkerControl.html">MarkerControl</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/MarkerControl/State.html">– State</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/MarkerView.html">MarkerView</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/RCProjectStrategy.html">RCProjectStrategy</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/RealityFileStrategy.html">RealityFileStrategy</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/ScreenAnnotation.html">ScreenAnnotation</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/SingleImageARCardView.html">SingleImageARCardView</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/UsdzFileStrategy.html">UsdzFileStrategy</a>
                </li>
              </ul>
            </li>
          </ul>
        </nav>
      </div>
      <div class="footer-wrapper">
        <section id="footer">
          <p>© 2020 <a class="link" href="https://github.com/SAP/cloud-sdk-ios-fioriarkit" target="_blank" rel="external">https://github.com/SAP/cloud-sdk-ios-fioriarkit</a> under Apache-2.0.</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.13.7</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </div>
    </div>
  </body>
</div>
</html>
