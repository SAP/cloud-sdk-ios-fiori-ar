<!DOCTYPE html>
<html lang="en">
  <head>
    <title>ServiceStrategy Class Reference</title>
    <link rel="stylesheet" type="text/css" href="../css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="../css/highlight.css" />
    <meta charset='utf-8'>
	<meta name="viewport" content="width=device-width, viewport-fit=cover, initial-scale=1.0" />
    <script src="../js/jquery.min.js" defer></script>
    <script src="../js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a name="//apple_ref/swift/Class/ServiceStrategy" class="dashAnchor"></a>
    <a title="ServiceStrategy Class Reference"></a>
    <header>
      <div class="content-wrapper">
        <p>
          <a href="../index.html">FioriAR Docs</a>
          <span class="no-mobile"></span>
        </p>
    
    
      </div>
    </header>
    <div id="breadcrumbs-container">
      <div class="content-wrapper">
        <p id="breadcrumbs">
          <span class="no-mobile">
            <a href="../index.html">FioriAR Reference</a>
            <img id="carat" src="../img/carat.png" alt=""/>
          </span>
          ServiceStrategy Class Reference
        </p>
      </div>
    </div>
    <div class="wrapper">
      <div class="article-wrapper">
        <article class="main-content">
          <section>
            <section class="section">
              <h1>ServiceStrategy</h1>
                <div class="declaration">
                  <div class="language">
                    
                    <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">class</span> <span class="kt">ServiceStrategy</span><span class="o">&lt;</span><span class="kt">CardItem</span><span class="o">&gt;</span> <span class="p">:</span> <span class="kt">ObservableObject</span><span class="p">,</span> <span class="kt"><a href="../Protocols/AsyncAnnotationLoadingStrategy.html">AsyncAnnotationLoadingStrategy</a></span> <span class="k">where</span> <span class="kt">CardItem</span> <span class="p">:</span> <span class="kt"><a href="../Models.html#/s:7FioriAR13CardItemModelP">CardItemModel</a></span><span class="p">,</span> <span class="kt">CardItem</span> <span class="p">:</span> <span class="kt">Decodable</span><span class="p">,</span> <span class="kt">CardItem</span> <span class="p">:</span> <span class="kt">Encodable</span></code></pre>

                  </div>
                </div>
              <p>A loading strategy that makes a network fetch request to Mobile Services to return the data necessary to display an AR Annotation Scene.
This strategy wraps the anchors that represents these locations with the CardItemModels that they correspond to in a ScreenAnnotation struct for a single source of truth.
Loading the data into the ARAnnotationViewModel should be done in the onAppear method.</p>
<h2 id='usage' class='heading'>Usage</h2>
<pre class="highlight swift"><code><span class="kd">@StateObject</span> <span class="k">var</span> <span class="nv">serviceStrategy</span> <span class="o">=</span> <span class="kt">ServiceStrategy</span><span class="o">&lt;</span><span class="kt">CodableCardItem</span><span class="o">&gt;</span><span class="p">(</span>
    <span class="nv">serviceURL</span><span class="p">:</span> <span class="kt">URL</span><span class="p">(</span><span class="nv">string</span><span class="p">:</span> <span class="kt">IntegrationTest</span><span class="o">.</span><span class="kt">System</span><span class="o">.</span><span class="n">redirectURL</span><span class="p">)</span><span class="o">!</span><span class="p">,</span>
    <span class="nv">sapURLSession</span><span class="p">:</span> <span class="kt">SAPURLSession</span><span class="o">.</span><span class="nf">createOAuthURLSession</span><span class="p">(</span>
        <span class="nv">clientID</span><span class="p">:</span> <span class="kt">IntegrationTest</span><span class="o">.</span><span class="kt">System</span><span class="o">.</span><span class="n">clientID</span><span class="p">,</span>
        <span class="nv">authURL</span><span class="p">:</span> <span class="kt">IntegrationTest</span><span class="o">.</span><span class="kt">System</span><span class="o">.</span><span class="n">authURL</span><span class="p">,</span>
        <span class="nv">redirectURL</span><span class="p">:</span> <span class="kt">IntegrationTest</span><span class="o">.</span><span class="kt">System</span><span class="o">.</span><span class="n">redirectURL</span><span class="p">,</span>
        <span class="nv">tokenURL</span><span class="p">:</span> <span class="kt">IntegrationTest</span><span class="o">.</span><span class="kt">System</span><span class="o">.</span><span class="n">tokenURL</span>
    <span class="p">),</span>
    <span class="nv">sceneIdentifier</span><span class="p">:</span> <span class="kt">SceneIdentifyingAttribute</span><span class="o">.</span><span class="nf">id</span><span class="p">(</span><span class="kt">IntegrationTest</span><span class="o">.</span><span class="kt">TestData</span><span class="o">.</span><span class="n">sceneId</span><span class="p">)</span>

 <span class="n">arModel</span><span class="o">.</span><span class="nf">loadAsync</span><span class="p">(</span><span class="nv">loadingStrategy</span><span class="p">:</span> <span class="n">serviceStrategy</span><span class="p">)</span>
</code></pre>

            </section>
            <section class="section task-group-section">
              <div class="task-group">
                <ul>
                  <li class="item">
                    <div>
                      <code>
                      <a name="/s:7FioriAR15ServiceStrategyC15sceneIdentifierAA25SceneIdentifyingAttributeOvp"></a>
                      <a name="//apple_ref/swift/Property/sceneIdentifier" class="dashAnchor"></a>
                      <a class="token" href="#/s:7FioriAR15ServiceStrategyC15sceneIdentifierAA25SceneIdentifyingAttributeOvp">sceneIdentifier</a>
                      </code>
                    </div>
                    <div class="height-container">
                      <div class="pointer-container"></div>
                      <section class="section">
                        <div class="pointer"></div>
                        <div class="abstract">
                          <p>Unique attribute and its value identifiying a scene stored in SAP Mobile Services</p>

                        </div>
                        <div class="declaration">
                          <h4>Declaration</h4>
                          <div class="language">
                            <p class="aside-title">Swift</p>
                            <pre class="highlight swift"><code><span class="kd">public</span> <span class="k">var</span> <span class="nv">sceneIdentifier</span><span class="p">:</span> <span class="kt"><a href="../Enums/SceneIdentifyingAttribute.html">SceneIdentifyingAttribute</a></span></code></pre>

                          </div>
                        </div>
                      </section>
                    </div>
                  </li>
                  <li class="item">
                    <div>
                      <code>
                      <a name="/s:7FioriAR15ServiceStrategyC10serviceURL13sapURLSession15sceneIdentifierACyxG10Foundation0F0V_13SAPFoundation13SAPURLSessionCAA25SceneIdentifyingAttributeOtcfc"></a>
                      <a name="//apple_ref/swift/Method/init(serviceURL:sapURLSession:sceneIdentifier:)" class="dashAnchor"></a>
                      <a class="token" href="#/s:7FioriAR15ServiceStrategyC10serviceURL13sapURLSession15sceneIdentifierACyxG10Foundation0F0V_13SAPFoundation13SAPURLSessionCAA25SceneIdentifyingAttributeOtcfc">init(serviceURL:<wbr>sapURLSession:<wbr>sceneIdentifier:<wbr>)</a>
                      </code>
                    </div>
                    <div class="height-container">
                      <div class="pointer-container"></div>
                      <section class="section">
                        <div class="pointer"></div>
                        <div class="abstract">
                          <p>Initializer</p>

                        </div>
                        <div class="declaration">
                          <h4>Declaration</h4>
                          <div class="language">
                            <p class="aside-title">Swift</p>
                            <pre class="highlight swift"><code><span class="kd">public</span> <span class="nf">init</span><span class="p">(</span><span class="nv">serviceURL</span><span class="p">:</span> <span class="kt">URL</span><span class="p">,</span> <span class="nv">sapURLSession</span><span class="p">:</span> <span class="kt">SAPURLSession</span><span class="p">,</span> <span class="nv">sceneIdentifier</span><span class="p">:</span> <span class="kt"><a href="../Enums/SceneIdentifyingAttribute.html">SceneIdentifyingAttribute</a></span><span class="p">)</span></code></pre>

                          </div>
                        </div>
                        <div>
                          <h4>Parameters</h4>
                          <table class="graybox">
                            <tbody>
                              <tr>
                                <td>
                                  <code>
                                  <em>serviceURL</em>
                                  </code>
                                </td>
                                <td>
                                  <div>
                                    <p>Server URL for your application in SAP Mobile Services</p>
                                  </div>
                                </td>
                              </tr>
                              <tr>
                                <td>
                                  <code>
                                  <em>sapURLSession</em>
                                  </code>
                                </td>
                                <td>
                                  <div>
                                    <p>networking API from SAPFoundation framework</p>
                                  </div>
                                </td>
                              </tr>
                              <tr>
                                <td>
                                  <code>
                                  <em>sceneIdentifier</em>
                                  </code>
                                </td>
                                <td>
                                  <div>
                                    <p>unique value identifiying a scene stored in SAP Mobile Services</p>
                                  </div>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </section>
                    </div>
                  </li>
                  <li class="item">
                    <div>
                      <code>
                      <a name="/s:7FioriAR15ServiceStrategyC4load4with17completionHandleryAA9ARManagerC_ySayAA16ScreenAnnotationVyAA15CodableCardItemVGG_AA15GuideImageStateOtctKF"></a>
                      <a name="//apple_ref/swift/Method/load(with:completionHandler:)" class="dashAnchor"></a>
                      <a class="token" href="#/s:7FioriAR15ServiceStrategyC4load4with17completionHandleryAA9ARManagerC_ySayAA16ScreenAnnotationVyAA15CodableCardItemVGG_AA15GuideImageStateOtctKF">load(with:<wbr>completionHandler:<wbr>)</a>
                      </code>
                    </div>
                    <div class="height-container">
                      <div class="pointer-container"></div>
                      <section class="section">
                        <div class="pointer"></div>
                        <div class="abstract">
                          <p>Performs network requests to load scene information from SAP Mobile Services</p>

                        </div>
                        <div class="declaration">
                          <h4>Declaration</h4>
                          <div class="language">
                            <p class="aside-title">Swift</p>
                            <pre class="highlight swift"><code><span class="kd">public</span> <span class="kd">func</span> <span class="nf">load</span><span class="p">(</span><span class="n">with</span> <span class="nv">manager</span><span class="p">:</span> <span class="kt"><a href="../Classes/ARManager.html">ARManager</a></span><span class="p">,</span> <span class="nv">completionHandler</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">([</span><span class="kt"><a href="../Structs/ScreenAnnotation.html">ScreenAnnotation</a></span><span class="o">&lt;</span><span class="kt"><a href="../Structs/CodableCardItem.html">CodableCardItem</a></span><span class="o">&gt;</span><span class="p">],</span> <span class="kt"><a href="../Enums/GuideImageState.html">GuideImageState</a></span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="k">throws</span></code></pre>

                          </div>
                        </div>
                        <div>
                          <h4>Parameters</h4>
                          <table class="graybox">
                            <tbody>
                              <tr>
                                <td>
                                  <code>
                                  <em>manager</em>
                                  </code>
                                </td>
                                <td>
                                  <div>
                                    <p>handling the ARView</p>
                                  </div>
                                </td>
                              </tr>
                              <tr>
                                <td>
                                  <code>
                                  <em>completionHandler</em>
                                  </code>
                                </td>
                                <td>
                                  <div>
                                    <p>providing the cards and image anchor of the requested scene once loaded</p>
                                  </div>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </div>
                      </section>
                    </div>
                  </li>
                </ul>
              </div>
            </section>
          </section>
        </article>
      </div>
      <div class="nav-wrapper">
        <nav class="nav-bottom">
          <ul class="nav-groups">
            <li class="nav-group-name">
              <a href="../Annotation%20Viewing.html">Annotation Viewing</a>
              <ul class="nav-group-tasks">
                <li class="nav-group-task">
                  <a href="../Structs/ARAnnotationsView.html">ARAnnotationsView</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/ARScanView.html">ARScanView</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/MarkerView.html">MarkerView</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/CardView.html">CardView</a>
                </li>
              </ul>
            </li>
            <li class="nav-group-name">
              <a href="../Scene%20Authoring.html">Scene Authoring</a>
              <ul class="nav-group-tasks">
                <li class="nav-group-task">
                  <a href="../Structs/SceneAuthoringView.html">SceneAuthoringView</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Enums/SceneEditing.html">SceneEditing</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Enums/SceneIdentifyingAttribute.html">SceneIdentifyingAttribute</a>
                </li>
              </ul>
            </li>
            <li class="nav-group-name">
              <a href="../Annotation%20Management.html">Annotation Management</a>
              <ul class="nav-group-tasks">
                <li class="nav-group-task">
                  <a href="../Classes/ARAnnotationViewModel.html">ARAnnotationViewModel</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Classes/ARManager.html">ARManager</a>
                </li>
              </ul>
            </li>
            <li class="nav-group-name">
              <a href="../Annotation%20Data%20Loading.html">Annotation Data Loading</a>
              <ul class="nav-group-tasks">
                <li class="nav-group-task">
                  <a href="../Protocols/AnnotationLoadingStrategy.html">AnnotationLoadingStrategy</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Protocols/AsyncAnnotationLoadingStrategy.html">AsyncAnnotationLoadingStrategy</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/RCProjectStrategy.html">RCProjectStrategy</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/RealityFileStrategy.html">RealityFileStrategy</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Classes/ServiceStrategy.html">ServiceStrategy</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/UsdzFileStrategy.html">UsdzFileStrategy</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/VectorStrategy.html">VectorStrategy</a>
                </li>
              </ul>
            </li>
            <li class="nav-group-name">
              <a href="../Models.html">Models</a>
              <ul class="nav-group-tasks">
                <li class="nav-group-task">
                  <a href="../Models.html#/s:7FioriAR13CardItemModelP">CardItemModel</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/CodableCardItem.html">CodableCardItem</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/ScreenAnnotation.html">ScreenAnnotation</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/MarkerControl.html">MarkerControl</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/MarkerControl/State.html">– State</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/CardImage.html">CardImage</a>
                </li>
              </ul>
            </li>
            <li class="nav-group-name">
              <a href="../Other%20Classes.html">Other Classes</a>
              <ul class="nav-group-tasks">
                <li class="nav-group-task">
                  <a href="../Classes/SceneAuthoringController.html">SceneAuthoringController</a>
                </li>
              </ul>
            </li>
            <li class="nav-group-name">
              <a href="../Other%20Enums.html">Other Enumerations</a>
              <ul class="nav-group-tasks">
                <li class="nav-group-task">
                  <a href="../Enums/GuideImageState.html">GuideImageState</a>
                </li>
              </ul>
            </li>
            <li class="nav-group-name">
              <a href="../Other%20Extensions.html">Other Extensions</a>
              <ul class="nav-group-tasks">
                <li class="nav-group-task">
                  <a href="../Extensions/EnvironmentValues.html">EnvironmentValues</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Extensions/View.html">View</a>
                </li>
              </ul>
            </li>
            <li class="nav-group-name">
              <a href="../Other%20Protocols.html">Other Protocols</a>
              <ul class="nav-group-tasks">
                <li class="nav-group-task">
                  <a href="../Protocols/ActionContentComponent.html">ActionContentComponent</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Protocols/ActionTextComponent.html">ActionTextComponent</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Protocols/DetailImageComponent.html">DetailImageComponent</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Protocols/IconComponent.html">IconComponent</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Protocols/PositionComponent.html">PositionComponent</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Protocols/SubtitleComponent.html">SubtitleComponent</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Protocols/TitleComponent.html">TitleComponent</a>
                </li>
              </ul>
            </li>
            <li class="nav-group-name">
              <a href="../Other%20Structs.html">Other Structures</a>
              <ul class="nav-group-tasks">
                <li class="nav-group-task">
                  <a href="../Structs/AnyCodable.html">AnyCodable</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/CarouselOptions.html">CarouselOptions</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/DefaultIcon.html">DefaultIcon</a>
                </li>
                <li class="nav-group-task">
                  <a href="../Structs/ImagePreview.html">ImagePreview</a>
                </li>
              </ul>
            </li>
          </ul>
        </nav>
      </div>
      <div class="footer-wrapper">
        <section id="footer">
          <p>© 2020 <a class="link" href="https://github.com/SAP/cloud-sdk-ios-fiori-ar" target="_blank" rel="external noopener">https://github.com/SAP/cloud-sdk-ios-fiori-ar</a> under Apache-2.0.</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external noopener">jazzy ♪♫ v0.14.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external noopener">Realm</a> project.</p>
        </section>
      </div>
    </div>
  </body>
</html>
